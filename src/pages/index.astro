---
// src/pages/index.astro

// 1. Imports simplificados
import Layout from '../layouts/Layout.astro';
import PostCard from '../components/PostCard.astro'; // Nosso novo componente
import { getCollection } from 'astro:content';

// 2. Lógica para buscar apenas posts com "featured: true"
const allPosts = await getCollection('blog');
// Certifique-se de que todos os posts possuem a propriedade 'featured' no schema e nos arquivos de conteúdo.
// Caso não queira adicionar a propriedade, remova o filtro ou ajuste para uma propriedade existente, por exemplo:
const featuredPosts = allPosts; // Mostra todos os posts
// Se quiser filtrar por outra propriedade existente, ajuste aqui.
---

<Layout
    title="ELOnARTE | O elegante elo na arte"
    description="Explore um universo onde arte, terapias integrativas e tecnologias inovadoras se encontram."
>
    <div class="container">
        <section id="blog-highlight" class="featured-section">
            <div class="section-header">
                <h1>O elegante elo na arte</h1>
                <p class="subtitle">Reflexões sobre arte, consciência e tecnologia.</p>
            </div>
            
            <div class="blog-cards-grid">
                {featuredPosts.map(post => (
                     <PostCard post={post} isLCP={index === 0} />
                ))}
            </div>

            <div class="cta-container">
                <a href="/blog" class="btn">Ver Todas as Publicações</a>
            </div>
        </section>
    </div>
</Layout>

<style>
    .featured-section {
        padding: 4rem 1.5rem;
    }
    .section-header {
        text-align: center;
        margin-bottom: 3.5rem;
    }
    .section-header h1 {
        font-size: 2.5rem; /* Ajuste o tamanho conforme preferir */
        font-weight: 400;
        margin-bottom: 1rem;
    }
    .subtitle {
        font-size: 1.125rem;
        color: var(--color-text-secondary);
        max-width: 60ch;
        margin: 0 auto;
    }
    .blog-cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        margin-bottom: 3rem;
    }
    .cta-container {
        text-align: center;
    }
    /* Estilo para o botão, pode reutilizar ou criar um novo */
    .btn {
      /* Recomendo usar um estilo de botão global ou copiar um existente */
      display: inline-block;
      padding: 0.75rem 2rem;
      border-radius: 8px;
      font-weight: 700;
      text-decoration: none;
      background-color: var(--color-bg-light);
      color: var(--color-text-primary);
      transition: all 0.3s ease;
    }
    .btn:hover {
        background-color: var(--accent-turquoise);
        color: var(--color-bg);
        transform: translateY(-3px);
    }
</style>